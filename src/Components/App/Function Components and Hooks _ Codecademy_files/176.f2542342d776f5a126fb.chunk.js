(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[176],{D5Q1:function(e,t,s){"use strict";s.d(t,"a",(function(){return FileNavigator_FileNavigator}));var r=s("ODXe"),a=s("4qC0"),i=s.n(a),o=s("TSYQ"),n=s.n(o),l=s("33yf"),p=s.n(l),c=s("q1tI"),h=s.n(c),d=s("uBVh"),m=s("AW55"),u=s("swBZ"),f=s("b+vN"),g=s("rePB"),v=s("uM7l"),F=s.n(v),w=s("/VKx"),b=s("rocr"),E=s("Ca5n"),_=s("9BNy"),N=s("IDz9"),C=s("i8i4"),I=s.n(C),O=s("y3J+"),y="folderItem__3u66r1wD0f0OYNCAkMN7Cv",D="fileTreeTreeBtn__1x5DnY83QQkqbDHCmxsRXI",P="fileTreeTreeBtnActive__10qUKyzaqpfs-kdGkfF3Gp",T="fileTreeTreeBtnInactive__rvaADe14tcciv7UzZIfO1",S="itemName__26pDYv9w-_SR8yDMUVyC3_",k="renameForm__zpH099Iiwq8dgdvjsiI44",A="renameFormInput__18HVRsxdSVwmFGnsNw-RnR",j="rightIcons__lYvxfR1zG-Qgb4GS3_IuH",R="dropdown__1ohW441HJYFkzcMu2dxHbe",x="dropdownOption__2CNQE_Jojqf1MQNNHwT1z2",z="icon__3MZ-1lVeElHHMs4AZWgFO6";class FileTreeItem_FileTreeItem extends h.a.Component{constructor(...e){super(...e),this.state={name:this.props.name,hover:!1,isRenaming:!1,toggleMenuOption:!1},this.onFileNameChange=e=>{this.setState({name:e.target.value}),this.props.clearError()},this.resetName=()=>{this.setState({name:this.props.name})},this.forceFocus=()=>{I.a.findDOMNode(this.refs.nameInput).focus(),I.a.findDOMNode(this.refs.nameInput).select(),this.props.setCurrentFile(this.props.path,!0)},this.handleClick=e=>{this.props.clearError(),e.stopPropagation(),this.disabledItem()||this.state.isRenaming||(this.props.folder&&this.props.handleClick(),this.props.setCurrentItem(this.props.path,this.props.folder))},this.triggerNameChange=e=>{if(e&&e.preventDefault(),this.props.name!==this.state.name){const e=this.props.path;let t=F()(e);t=t.replace(this.props.name,this.state.name),this.props.renameFile(e,t)}this.setState({isRenaming:!1})},this.onMouseEnter=()=>{this.setState({hover:!0})},this.onMouseLeave=()=>{this.setState({hover:!1})},this.disabledItem=()=>!this.props.default&&(["binary"].includes(this.props.type)||this.props.disabled),this.renderItemName=()=>{if(this.state.isRenaming)return h.a.createElement("form",{onSubmit:this.triggerNameChange,className:k},h.a.createElement("input",{ref:"nameInput",className:A,value:this.state.name,onChange:this.onFileNameChange,onBlur:this.triggerNameChange}));const e=this.props.default?" (Default)":"";return h.a.createElement("span",{className:S},"".concat(this.props.name).concat(e))},this.handleEditClick=()=>{this.refs.dropdown.close(),this.setState({isRenaming:!0,name:this.props.name},(()=>{this.forceFocus()}))},this.handleDeleteClick=()=>{this.refs.dropdown.close(),this.props.setCurrentItem(this.props.path,this.props.folder,this.disabledItem()),this.props.getDeleteConfirmation(this.props.path)},this.handleNewFolder=()=>{this.refs.dropdown.close(),this.handleNewItem(!0)},this.handleNewFile=()=>{this.refs.dropdown.close(),this.handleNewItem()},this.handleNewItem=e=>{this.props.setCurrentItem(this.props.path,this.props.folder),this.props.forceAddOpenPath(this.props.path),this.setState({remainOpen:!0},(()=>{e?this.props.handleNewFolder():this.props.handleNewFile()}))},this.handleDropdown=e=>{e.stopPropagation()},this.renderMenu=()=>{const e=this.props.folder?"Delete Folder":"Delete File";return h.a.createElement(w.a,{column:!0,className:R},this.props.folder?h.a.createElement("button",{className:x,onClick:this.handleNewFile,"data-testid":"add-file-".concat(this.props.name),type:"button"},"New File"):null,this.props.folder?h.a.createElement("button",{className:x,onClick:this.handleNewFolder,"data-testid":"add-folder-".concat(this.props.name),type:"button"},"New Folder"):null,this.props.isRoot?null:h.a.createElement("button",{className:x,onClick:this.handleEditClick,"data-testid":"rename-item-".concat(this.props.name),type:"button"},"Rename"),this.props.isRoot?null:h.a.createElement("button",{className:x,onClick:this.handleDeleteClick,"data-testid":"delete-item-".concat(this.props.name),type:"button"},e))},this.handleDropDownToggle=e=>{this.setState((()=>({toggleMenuOption:e,hover:e})))}}render(){const e=this.props.isRoot?3:15*this.props.nestCount,t=n()({[D]:!0,[P]:this.props.currentItemPath===this.props.path,[T]:this.disabledItem()}),s=this.state.hover&&!this.state.isRenaming||this.state.toggleMenuOption,a=this.props.isOpen?["Expand folder",b.a]:["Collapse folder",E.a],i=Object(r.a)(a,2),o=i[0],l=i[1],p=this.props.folder?h.a.createElement(_.a,{className:y}):null,c=h.a.createElement(N.a,{size:14,className:z,title:"Options"});return h.a.createElement("div",{"data-testid":"file-nav-item-".concat(this.props.name)},h.a.createElement("div",{title:this.props.name,className:t,style:{paddingLeft:e},onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,"data-testid":"file-nav-title-".concat(this.props.name),"aria-label":o},this.props.folder&&h.a.createElement(l,{className:z,size:8}),this.props.isRoot?null:p,this.renderItemName(),s?h.a.createElement("div",{className:j,onClick:this.handleDropdown,"data-testid":"file-nav-item-opts-".concat(this.props.name)},h.a.createElement(O.a,{ref:"dropdown",clickTarget:c,onToggle:this.handleDropDownToggle,popoverOffset:2},this.renderMenu())):null),this.props.isOpen?this.props.children:null)}}var M=s("wx14"),B=s("yzbm");var L="fileDropzone__1QiPO2UViwLqWFeGgKAddB",U="dragActive__HLAi3XyTvXqmiNyoaHpCR";function ownKeys(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const fetchFileContents=async(e,t)=>{try{return[e,await((e,t)=>{const s=new FileReader;return new Promise(((r,a)=>{s.onerror=()=>{s.abort(),a(new DOMException("Problem parsing input file."))},s.onprogress=e=>{t(e)},s.onload=()=>{const e=s.result;r(e.split(",")[1])},s.readAsDataURL(e)}))})(e,t),null]}catch(t){return[e,"",t]}},FileDropzone=({children:e,className:t,dragActiveClassName:s=U,onFileUpload:r,dropzoneOptions:a,testId:i="file-dropzone",onProgress:o=(()=>{})})=>{const l=Object(c.useCallback)((async(e,t)=>{const s=e.map((e=>fetchFileContents(e,o))),a=await Promise.all(s);r({files:a,rejectedFiles:t})}),[r,o]),p=Object(B.a)(function _objectSpread(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(s),!0).forEach((function(t){Object(g.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({noDragEventsBubbling:!0,multiple:!0,maxSize:3e7,onDrop:l},a)),d=p.getRootProps,m=p.getInputProps,u=p.isDragActive,f=h.a.createElement("input",m());return h.a.createElement("div",Object(M.a)({"data-testid":i},d(),{tabIndex:-1,className:n()({[s]:u},L,t)}),f,e)};var H="fileTree__1bw3Dp6A-Ge88pVGbwFcYQ";function FileTree_ownKeys(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function FileTree_objectSpread(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?FileTree_ownKeys(Object(s),!0).forEach((function(t){Object(g.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):FileTree_ownKeys(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}class FileTree_FileTree extends h.a.Component{constructor(...e){super(...e),this.writeItem=(e,t)=>{if(!d.d(e.name))return h.a.createElement(FileTreeItem_FileTreeItem,{type:e.type,path:e.path,key:e.path,name:e.name,default:this.props.defaultFile===e.path,disabled:this.props.disabled||d.c(e.name),setError:this.props.setError,renameFile:this.props.renameFile,clearError:this.props.clearError,setCurrentFile:this.setCurrentFile,setCurrentItem:this.props.setCurrentItem,currentItemPath:this.props.currentItemPath,nestCount:t,getDeleteConfirmation:this.props.getDeleteConfirmation})},this.handleClick=()=>{this.props.setCurrentItem("",!0)},this.setCurrentFile=(e,t)=>{this.props.clearError(),this.props.setCurrentItem(e,t)},this.writeFolderItem=(e,t)=>{if(d.d(e.name))return;const s=e.name,r=e.path,a=this.props.openPaths.has(r);return h.a.createElement(FileTreeItem_FileTreeItem,{folder:!0,path:r,key:r,name:s,disabled:this.props.disabled,setError:this.props.setError,clearError:this.props.clearError,setCurrentItem:this.props.setCurrentItem,setCurrentFile:this.setCurrentFile,currentItemPath:this.props.currentItemPath,renameFile:this.props.renameFile,isOpen:a,nestCount:t,getDeleteConfirmation:this.props.getDeleteConfirmation,handleNewFolder:this.props.handleNewFolder,handleNewFile:this.props.handleNewFile,forceAddOpenPath:this.props.forceAddOpenPath,handleClick:()=>this.props.addOrRemoveOpenPath(r)},this.buildTree(e,t+1))},this.buildTree=(e,t)=>{const s=[];for(const r of e.directories)s.push(this.writeFolderItem(r,t));for(const r of e.files)s.push(this.writeItem(r,t));return s}}render(){const e=FileTree_objectSpread(FileTree_objectSpread({files:[],directories:[]},this.props.workspaceRoot),{},{path:"",name:"files"});return h.a.createElement("div",{className:H,onClick:this.handleClick},h.a.createElement(FileDropzone,{dropzoneOptions:{noClick:!0},onFileUpload:this.props.handleFileUpload,onProgress:this.props.handleUploadProgress},this.writeFolderItem(e,0)))}}var K=s("v2jj"),Q=s("2TUT"),V=s("MjJq"),Y=s("ZDtF"),q=s("XVAG"),J=s("9nnP"),Z=s("HS7T"),G="addItemButton__3u0AjTwzuHP3nOVNN3Np3",W="close__o7IYSF7Zj_VF9nRshJI6p";const AddItemButton=({className:e,enabled:t,onClick:s})=>{const a=t?["plus",void 0,Z.a,"Add file"]:["close",W,K.a,"Cancel adding file"],i=Object(r.a)(a,4),o=i[0],l=i[1],p=i[2],c=i[3];return h.a.createElement(J.a,{className:n()(G,e),"data-testid":"file-name-input-".concat(o),onClick:s},h.a.createElement(p,{className:l,title:c}))};var X="fileNameInput__2GfLF62PzEHPiitohhIKyM",$="createItemForm__2lX6_UQqFgblvZnKq59CTe",ee="addItemButtonEnabled__2VXu-opyud8aYnb0yTymA-";class FileToolInput_FileToolInput extends h.a.Component{constructor(...e){super(...e),this.state={value:""},this.setFocus=()=>{I.a.findDOMNode(this.refs.filenameinput).focus()},this.clearInput=()=>{this.setState({value:""})},this.fileNameKeyDown=e=>{const t=e.target.value;this.setState({value:t}),this.props.fileNameKeyDown(t)},this.canAddItem=()=>!this.props.hasError()&&""!==this.state.value,this.onAddItemClick=e=>{this.canAddItem()?this.props.onSubmit(e):this.props.toggle()}}componentDidMount(){this.setFocus()}render(){const e=this.state.value,t=this.canAddItem();return h.a.createElement("form",{onSubmit:this.props.onSubmit,className:$},h.a.createElement("input",{type:"text",className:X,ref:"filenameinput",placeholder:this.props.placeHolder,value:e,onChange:this.fileNameKeyDown,"data-testid":"file-name-input"}),h.a.createElement(AddItemButton,{className:n()(t&&ee),enabled:t,onClick:this.onAddItemClick}))}}var te="fcnCreateFileTool__1z1wtz_c7RhY2SEfseSEjL",se="fileToolMenu__3lV0s5WgX4TDRnzCp8JfTO",re="navExpandButton__2v9YHV5QYRSIrQLdrVbXmi",ae="toolsRight__3OB2cC73sCf29c0F11ajJA",ie="fileUpload__17L-Zl9cNjz3487GiX02Co";class NewFileTool_NewFileTool extends h.a.Component{constructor(...e){super(...e),this.state={name:""},this.onSubmit=e=>{e.preventDefault(),this.createNewFileSystemItem()},this.reset=()=>{this.props.reset(),this.setState({name:""})},this.fileNameKeyDown=e=>{this.setState({name:e}),this.props.clearError()},this.toggleLayout=()=>{this.props.isAddingItem&&this.props.toggleAddItem(),this.props.toggle()},this.hasErrors=()=>Boolean(this.props.error),this.createNewFileSystemItem=()=>{const e=this.props.isDir;this.props.createNewFileSystemItem(this.state.name,e).then((()=>{this.hasErrors()||(this.props.toggleAddItem(),this.reset())}))}}render(){const e=this.props.isDir?"Enter Folder Name":"Enter File Name",t=this.props.toolOpen?[K.a,"Close File Tool"]:[_.a,"Open File Tool"],s=Object(r.a)(t,2),a=s[0],i=s[1];return h.a.createElement("div",null,h.a.createElement("div",{className:te},h.a.createElement("div",{className:se},this.props.toggle&&h.a.createElement(q.a,{buttonClassName:re,label:"Toggle new file options",small:!0,"data-testid":"file-nav-expand",onClick:this.toggleLayout,"aria-label":i},h.a.createElement(a,{title:i})),(!this.props.toggle||this.props.toolOpen)&&h.a.createElement("div",{className:ae},h.a.createElement(FileDropzone,{testId:"new-file-upload",className:ie,dropzoneOptions:{noDrag:!0},onFileUpload:this.props.handleFileUpload,onProgress:this.props.handleUploadProgress},h.a.createElement(q.a,{label:"Upload a file",small:!0},h.a.createElement(Q.a,null))),h.a.createElement(q.a,{label:"Create a folder",small:!0},h.a.createElement(V.a,{onClick:this.props.handleNewFolder,"data-testid":"add-folder"})),h.a.createElement(q.a,{label:"Create a file",small:!0},h.a.createElement(Y.a,{onClick:this.props.handleNewFile,"data-testid":"add-file"}))))),this.props.isAddingItem?h.a.createElement(FileToolInput_FileToolInput,{ref:"fileInput",toggle:this.props.toggleAddItem,hasError:this.hasErrors,placeHolder:e,fileNameKeyDown:this.fileNameKeyDown,onSubmit:this.onSubmit}):void 0)}}var oe=s("/FR9"),ne=s("4Te6"),le="fileTool__3fRqxfr_8Xp4mGcZjaaBdh",pe="fileToolClosed__GPJjW0eccgFKvJeJRAfKI",ce="fileToolIsAdding__1TBScRTF1ZxdsN1YElfQSV",he="fileToolError__1wErKpCEe9II71CXjmV1L6",de="fileToolContainer__2r2FHFLKxbL8s4jyUYPbww";class FileNavigator_FileNavigator extends c.Component{constructor(...e){super(...e),this.state={error:void 0,currentItemPath:"",currentSavePath:void 0,isAddingItem:!1,openPaths:new Set([""]),confirm:!1,isDir:!1},this.setCurrentItem=(e,t,s)=>{t?this.setState({currentSavePath:e}):(this.setState({currentSavePath:void 0}),this.state.currentItemPath===e||s||this.props.openFile(e)),this.setState({currentItemPath:e})},this.addOrRemoveOpenPath=e=>{const t=this.state.openPaths,s=new Set(t);s.has(e)?s.delete(e):s.add(e),this.setState({openPaths:s})},this.forceAddOpenPath=e=>{this.state.openPaths.has(e)||this.addOrRemoveOpenPath(e)},this.toggleAddFileState=()=>{this.setState((e=>({isAddingItem:!e.isAddingItem})))},this.handleFileUpload=async({files:e=[],rejectedFiles:t})=>{const s=e.map((e=>{const t=Object(r.a)(e,3),s=t[0],a=t[1];if(t[2])return null;const i=s.path?s.path.replace(/^\//,""):s.name;return new ne.a({path:i,encodedContent:a,mimeType:s.type,name:s.name})})).filter(Boolean),a=s.map((e=>{const t=p.a.dirname(e.path);return t?new oe.a({path:t,name:p.a.basename(t)}):null})).filter(Boolean);try{await this.props.createDirectories(a)}catch(e){this.setError(e)}try{await this.props.updateFiles(s),m.a.increment("learning_environment.files_uploaded","success")}catch(e){this.setError(e)}t&&t.length&&this.setError("\n        Rejected these files because they were too large:\n        ".concat(t.map((e=>" ".concat(e.file.name,", "))),"\n      "))},this.createNewFileSystemItem=async(e,t)=>{if(Object(d.c)(e))return void this.setError("Cannot create a file with this name and extension.");this.setState({isAddingItem:!0});const s=this.state.currentSavePath?"".concat(this.state.currentSavePath,"/").concat(e):e,onCreateSuccess=()=>{this.setCurrentItem(s,t),this.forceAddOpenPath(s)};if(t){const t=new oe.a({name:e,path:s,files:[],directories:[]});await this.createDirectory(t,onCreateSuccess)}else{const t=new ne.a({name:e,path:s,content:""});await this.createFile(t,onCreateSuccess)}},this.createDirectory=async(e,t)=>{try{await this.props.createDirectories([e]),t()}catch(e){this.setError(e)}},this.createFile=async(e,t)=>{try{await this.props.updateFiles([e]),t()}catch(e){this.setError(e)}},this.handleRenameFile=async(e,t)=>{try{await this.props.renameFile(e,t)}catch(e){this.setError(e)}},this.setError=e=>{i()(e)&&this.setState({error:e})},this.clearError=()=>{this.setState({error:void 0})},this.getDeleteConfirmation=()=>{this.setState({confirm:!0})},this.deleteFile=async()=>{const e=this.state.currentItemPath;this.setState({confirm:!1});try{await this.props.deleteFile(e)}catch(e){this.setError(e)}this.setState({currentSavePath:"",currentItemPath:""})},this.cancelAndClose=()=>{this.setState({confirm:!1})},this.toggleAddFolder=()=>{this.toggleAddItem(!0)},this.toggleAddFile=()=>{this.toggleAddItem(!1)},this.toggleAddItem=e=>{this.clearError(),this.setState({isDir:e}),this.toggleAddFileState()},this.reset=()=>{this.setState({isDir:!1,isAddingItem:!1})}}render(){const e=this.props.directory,t=void 0===e?{directories:[],files:[]}:e,s=n()({[le]:!0,[ce]:this.state.isAddingItem,[pe]:!this.props.open},this.props.className);return h.a.createElement("div",{className:s,"data-testid":"file-navigator"},h.a.createElement("div",{className:de},this.state.error&&h.a.createElement("p",{className:he},this.state.error),h.a.createElement(NewFileTool_NewFileTool,{toolOpen:this.props.open,toggle:this.props.toggleLayout,error:this.state.error,clearError:this.clearError,createNewFileSystemItem:this.createNewFileSystemItem,isAddingItem:this.state.isAddingItem,reset:this.reset,toggleAddItem:this.toggleAddItem,handleFileUpload:this.handleFileUpload,handleNewFile:this.toggleAddFile,handleNewFolder:this.toggleAddFolder,isDir:this.state.isDir}),this.props.open?h.a.createElement(FileTree_FileTree,{workspaceRoot:t,setCurrentItem:this.setCurrentItem,disabled:this.state.isAddingItem,defaultFile:this.props.defaultFile,setError:this.setError,clearError:this.clearError,currentItemPath:this.state.currentItemPath,addOrRemoveOpenPath:this.addOrRemoveOpenPath,forceAddOpenPath:this.forceAddOpenPath,getDeleteConfirmation:this.getDeleteConfirmation,handleNewFile:this.toggleAddFile,handleNewFolder:this.toggleAddFolder,handleFileUpload:this.handleFileUpload,openPaths:this.state.openPaths,renameFile:this.handleRenameFile}):null,h.a.createElement(f.a,{isOpen:this.state.confirm,action:this.deleteFile,cancel:this.cancelAndClose},h.a.createElement("div",null,h.a.createElement("h5",null,u.components.confirmation_wall.delete_item),h.a.createElement("p",null,u.components.confirmation_wall.cannot_undo))),this.props.controls))}}},XVAG:function(e,t,s){"use strict";s.d(t,"a",(function(){return Control}));var r=s("wx14"),a=s("Ff2n"),i=s("/VKx"),o=s("FZcb"),n=s("TSYQ"),l=s.n(n),p=s("q1tI"),c=s.n(p),h="control___DEBYDFcVFqfQFcMOQ9G9",d="controlButton__27ijFu-Piaa-UudyDPwOR5",m="controlButtonSmall__tvye_jQeZpZQfm_recVQa",u="controlDisabled__e79bBe_1cBgABoWW4HPob";const Control=e=>{let t=e.label,s=e.buttonClassName,n=e.children,p=e.disabled,f=e.small,g=Object(a.a)(e,["label","buttonClassName","children","disabled","small"]);const v=l()({[h]:!0,[u]:p},g.className);return c.a.createElement(i.a,Object(r.a)({center:!0},g,{className:v}),c.a.createElement(o.a,{"aria-label":t,className:l()(d,s,{[m]:f}),disabled:p,fitText:!0,flat:!0,size:f?"small":void 0,theme:"grey"},n))}},"b+vN":function(e,t,s){"use strict";s.d(t,"a",(function(){return ConfirmationWall}));var r=s("DZdY"),a=s("/VKx"),i=s("FZcb"),o=s("TSYQ"),n=s.n(o),l=s("q1tI"),p=s.n(l),c=s("rtHi"),h=s("MLxE"),d="dialogButton__3GWCelmXvJ-RrkoiQmGr5x";const m=Object(r.a)("div",{target:"ecx47be0",label:"Wrapper"})({name:"1v03bf2",styles:"padding:2rem"}),ConfirmationWall=({isOpen:e,children:t,action:s,actionText:r=c.confirm,cancel:o,cancelText:l=c.cancel})=>{const u=n()({[d]:!0}),f=n()({[d]:!0});return p.a.createElement(h.a,{isOpen:e,responseRequired:!0},p.a.createElement(m,null,t,p.a.createElement(a.a,{center:!0},p.a.createElement(i.a,{"data-testid":"confirmation-wall-confirm",theme:"red",outline:!0,className:u,onClick:s},r),p.a.createElement(i.a,{"data-testid":"confirmation-wall-cancel",theme:"platform",outline:!0,className:f,onClick:o},l))))}},dIjy:function(e,t,s){"use strict";s.d(t,"a",(function(){return FileNavigatorWrapper}));var r=s("q1tI"),a=s.n(r),i=s("c2gB"),o=s("D5Q1");const FileNavigatorWrapper=({controls:e,open:t,toggleLayout:s,className:r})=>{const n=Object(i.b)(),l=n.createDirectories,p=n.deleteFile,c=n.directory,h=n.defaultFiles,d=n.openFile,m=n.renameFile,u=n.updateFiles;return a.a.createElement(o.a,{toggleLayout:s,createDirectories:l,deleteFile:p,directory:c,defaultFile:null==h?void 0:h[0],open:t,openFile:d,renameFile:m,updateFiles:u,controls:e,className:r})}},rtHi:function(e){e.exports=JSON.parse('{"cancel":"Cancel","confirm":"Confirm"}')},"y3J+":function(e,t,s){"use strict";s.d(t,"a",(function(){return ToggleDropdown_ToggleDropdown}));var r=s("DzJC"),a=s.n(r),i=s("sEfC"),o=s.n(i),n=s("TSYQ"),l=s.n(n),p=s("q1tI"),c=s.n(p),h=s("i8i4"),d=s.n(h),m=s("vN+2"),u=s.n(m),f=s("wIFh"),g={popover:"popover__hxkl_EJW1baIkzJN1BQsu","above-right":"above-right__2FkO7ZYZP7f46lu66QSSPP","below-right":"below-right__1rzhn1_OHkU7N3DJ26rzdV","above-left":"above-left__1xMjFihWUzsCVrgbgYCBr6","below-left":"below-left__2ccy4sk7mHlLxjsrzicRhM",beak:"beak__2CznoWopp7oubxIzyyvoUq","below-beak":"below-beak__1eGwuLf1D-MwTEuLwfFkYJ","above-beak":"above-beak__2NuS-zztQileke6sPTI2vo"};class Popover_Popover extends c.a.Component{constructor(...e){super(...e),this.getPosition=()=>{const e=this.props,t=e.targetRect,s=e.offset,r=e.position,a=e.align;if(!t)return{};return{top:{above:Math.round(t.top-s),below:Math.round(t.top+t.height+s)}[r],left:"right"===a?Math.round(t.right):Math.round(t.left)}}}static getTargetRect(e){return e?e.getBoundingClientRect():{}}render(){const e=this.props,t=e.isOpen,s=e.onOutsideClick,r=e.position,a=e.fixed,i=e.className,o=e.align,n=e.showBeak,p=e.isNonBlocking,h=e.overlayClassName,d=l()(g.popover,g["".concat(r,"-").concat(o)],i);return c.a.createElement(f.a,{isOpen:!!t,fixed:a,overlayType:p?"none":"transparent",onOutsideClick:s,overrideFocusTrap:p,className:h,contentProps:{className:d,style:this.getPosition()}},this.props.children,n&&c.a.createElement("div",{className:l()(g.beak,g["".concat(r,"-beak")])}))}}Popover_Popover.defaultProps={position:"above",onOutsideClick:u.a,offset:5,fixed:!1,align:"right"};var v="wrapper__1KVLpEZEOmH0aI-jAaK9mD",F="outline__3xui7INjdQJIo_Ro5b9xkZ",w=s("wx14"),b=s("mP80");const E={fixed:!0,position:"below"},ToggleDropdownPopover=({children:e,handleRef:t,popoverProps:s,onOutsideClick:r,shadowClassName:a})=>(Object(b.a)("escape",r),c.a.createElement(Popover_Popover,Object(w.a)({},E,s,{onOutsideClick:r}),c.a.createElement("div",{ref:t},c.a.createElement("div",{className:a},e))));class ToggleDropdown_ToggleDropdown extends c.a.Component{constructor(...e){super(...e),this.state={open:!1,popoverRect:null},this.bindEvents=()=>{window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize)},this.unbindEvents=()=>{window.removeEventListener("scroll",this.scrollFn),window.removeEventListener("resize",this.resizeFn)},this.handleScroll=o()((()=>{if(!this.state.open)return;(function isElementInViewport(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(this.popover)||this.close()}),150),this.handleResize=a()((()=>{this.state.open&&this.setState({popoverRect:Popover_Popover.getTargetRect(d.a.findDOMNode(this.props.clickTarget))})}),150),this.getDropDown=()=>{},this.close=()=>{this.setState({open:!1}),this.props.onToggle(!1)},this.toggle=()=>{this.setState((e=>({open:!e.open,popoverRect:Popover_Popover.getTargetRect(d.a.findDOMNode(this))}))),this.props.onToggle(!this.state.open)}}static getDerivedStateFromProps(e){return void 0!==e.open?{open:e.open}:{}}componentDidUpdate(e,t){!t.open&&this.state.open?this.bindEvents():this.state.open||this.unbindEvents()}componentWillUnmount(){this.unbindEvents()}render(){const e=l()(this.props.className,[v]),t=c.a.cloneElement(this.props.clickTarget,{onClick:this.toggle});return c.a.createElement("div",{className:e},t,c.a.createElement(ToggleDropdownPopover,{handleRef:e=>{this.popover=e},onOutsideClick:this.close,popoverProps:{className:this.props.className,isOpen:this.state.open,offset:this.props.popoverOffset,targetRect:this.state.popoverRect,align:this.props.alignLeft?"left":"right"},shadowClassName:F},this.props.children))}}ToggleDropdown_ToggleDropdown.defaultProps={popoverOffset:20,onToggle:()=>{}}}}]);
//# sourceMappingURL=176.f2542342d776f5a126fb.chunk.js.map