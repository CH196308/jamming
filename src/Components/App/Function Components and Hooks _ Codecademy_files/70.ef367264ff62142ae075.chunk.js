(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[70],{"96qd":function(e,t,n){"use strict";n.d(t,"a",(function(){return NotificationsList}));var a=n("udU5"),i=n("630U"),o=n("7xvl"),c=n("q1tI"),r=n.n(c),s=n("z9go"),l=n("g3jP"),u=n.n(l);const d={"location/DASHBOARD":"dashboard_v2","location/CATALOG":"catalog","location/COURSE":"course_landing_page","location/PATH":"path_landing_page","location/COURSE_CONTENT_ITEM":"le_course_content_item","location/PATH_CONTENT_ITEM":"le_path_content_item"},byDate=(e,t)=>new Date(t.time).getTime()-new Date(e.time).getTime();class NotificationsList extends c.Component{constructor(...e){super(...e),this.trackNotificationClick=e=>{const t=this.props.locationType;Object(s.b)("notification","clicked",{target:"notification_bell_cta",page_name:t&&d[t]||null,event_id:e.id,context:e.campaign}),Object(s.c)({target:"notification_bell_cta",page_name:t&&d[t],event_id:e.id,context:e.campaign})},this.componentWillUnmount=()=>{this.props.notificationsMarkedRead(this.props.notifications.map((({id:e})=>e)))},this.getImageType=({img:e,campaign_name:t})=>{if("achievement"===t)return{icon:"trophy",url:void 0};if("streaks"===t)return{icon:void 0,url:u.a};const n=null==e?void 0:e.type,a=null==e?void 0:e.slug;return{icon:"icon"===n?a:void 0,url:"url"===n?a:void 0}}}render(){const e=this.props.notifications.sort(byDate).map((e=>{const t=this.getImageType(e),n=t.icon,a=t.url;return{date:Object(o.a)(new Date(e.time)),id:e.id,iconSettings:{color:i.g["blue-900"]},iconSlug:n,imageUrl:a,link:e.href,text:e.description,unread:1===e.status,campaign:e.campaign_name}}));return r.a.createElement(a.a,{className:this.props.className,notifications:e,onNotificationClick:this.trackNotificationClick})}}},"P9M/":function(e,t,n){"use strict";n.d(t,"a",(function(){return MeDropdown}));var a=n("ODXe"),i=n("/VKx"),o=n("7Wyp"),c=n("G9Ht"),r=n.n(c),s=n("q1tI"),l=n.n(s),u=n("/MKj"),d=n("yy36"),m=n("MAbI"),f="toggle__3szlvGns4ctzptRSxBW7sy",p="menu__1AfYFtFYdqxwHtktzinK",_="menuItem__28u20ypRAyAvlHBP5pXU5s",g="separatorBottom__stMBw7lQlcd5SFdGddDbg",b="separatorTop__2VEbmByYvOdmtayFGvjpae",O="topDropdown__1GixDLKn_VzbgBE21Ko03H";const ClickTarget=({profileImage:e,onClick:t,targetRef:n})=>l.a.createElement("div",{ref:n},l.a.createElement("button",{"aria-label":"my account dropdown toggle",className:f,id:"dropdown-toggle",onClick:t,type:"button"},l.a.createElement(m.a,{small:!0,imageUrl:e})));var h=n("npf3"),E=n("TSYQ"),v=n.n(E),j=n("b0K7"),N=n("RsCp");class MenuItems_MenuItems extends l.a.Component{constructor(...e){super(...e),this.generateMenuItems=()=>{const e=this.props,t=e.showNavItems,n=e.isMobile,a=e.showProAds,i=e.isAdmin,o=e.isCustomerService,c=e.isPro,r=e.isAccountManager,s={href:j.Gb,children:"Upgrade to Pro",visible:n||t};return[a&&s,...Object(N.d)({isAdmin:i,isCustomerService:o,isPro:c,isAccountManager:r})].filter((e=>!!e))},this.getSeparator=e=>"help-link"===e?g:"sign-out-link"===e?b:null}render(){const e=this.generateMenuItems();return l.a.createElement("div",null,e.filter((e=>e.visible)).map((e=>{const t=e.icon;return l.a.createElement("a",{onClick:e.onClick,href:e.href,target:"help-link"===e.id?"_blank":"_self","data-testid":e.id,key:"link-to-".concat(e.id),className:v()(_,"no-underline",e.id&&[this.getSeparator(e.id)])},t&&l.a.createElement(t,{size:24,"aria-hidden":!0}),e.children,e.badge?l.a.createElement(h.a,null,e.badge):null)})))}}const MeDropdown=({profileImage:e,showNavItems:t=!1,showProAds:n,inTrialPlanInTrialPeriod:c,onClick:m})=>{const f=Object(u.useSelector)(d.s),_=Object(u.useSelector)(d.v),g=Object(u.useSelector)(d.B),b=Object(u.useSelector)(d.r),h=Object(s.useRef)(null),E=Object(s.useState)(!1),v=Object(a.a)(E,2),j=v[0],N=v[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(ClickTarget,{profileImage:e,targetRef:h,onClick:()=>{N(!j),!j&&(null==m||m())}}),l.a.createElement(o.a,{className:O,align:"right",verticalOffset:1,outline:!0,isOpen:j,onRequestClose:()=>{N(!1)},targetRef:h},l.a.createElement(i.a,{column:!0,className:p},l.a.createElement("nav",null,l.a.createElement(MenuItems_MenuItems,{isAccountManager:b,isAdmin:f,isCustomerService:_,isMobile:r.a.any,isPro:g&&!c,showNavItems:t,showProAds:n})))))}},QJz3:function(e,t,n){"use strict";n.d(t,"b",(function(){return useNotificationArea})),n.d(t,"c",(function(){return useNotificationInteractions})),n.d(t,"a",(function(){return useNotifications}));var a=n("q1tI"),i=n("/MKj"),o=n("G4qV"),c=n("GsXu"),r=n("tQXl");function useNotificationArea(e){const t=e.id,n=Object(a.useMemo)((()=>Object(r.a)(t)),[t]),c=Object(r.b)(n),s=Object(o.b)({notifications:n,unreadCount:c});return Object(i.useSelector)(s)}function useNotificationInteractions(){const e=Object(i.useDispatch)();return Object(a.useMemo)((()=>({notificationsMarkedRead:t=>e(Object(c.d)(t))})),[e])}function useNotifications(e){!function useNotificationSubscribe(e){const t=Object(i.useDispatch)();return Object(a.useEffect)((()=>(t(Object(c.c)(e)),()=>{t(Object(c.b)(e.id))})),[t,e])}(e);return{data:useNotificationArea(e),actions:useNotificationInteractions()}}},g3jP:function(e,t,n){e.exports=n.p+"2e7770af3a38c3442e7802f2f6a91a6f.svg"},gnd6:function(e,t,n){"use strict";n.d(t,"a",(function(){return NotificationsDropdown}));var a=n("ODXe"),i=n("/VKx"),o=n("7Wyp"),c=n("q1tI"),r=n.n(c),s=n("tFdb"),l=n("96qd"),u=n("Xxlx"),d=n("QJz3"),m=n("ixXQ"),f="dropdown__1F_fcRWv-pe25RtHTZdeFh",p="notifications__dQ5YhPElQyuN4YvV60puJ",_="menuBell__3g4iBnjXjfVM0Q6IKDdIdT",g="topDropdown__1HUStgseh56noHmJ3KzVoN";const NotificationsDropdown=e=>{const t=Object(d.a)(m.a.HEADER_AREA),n=t.data,b=t.actions,O=n.notifications,h=n.unreadCount,E=b.notificationsMarkedRead,v=e.locationType,j=Object(c.useRef)(null),N=Object(c.useState)(!1),k=Object(a.a)(N,2),A=k[0],C=k[1],R=r.a.createElement("div",{ref:j},r.a.createElement(i.a,{center:!0,className:_},r.a.createElement(u.a,{data:{context:"global_nav",target:"notification_bell"},disableTracking:!!A,"aria-label":"notifications","data-testid":"notification_bell"},r.a.createElement(s.a,{theme:e.theme,key:"notification-bell",unreadCount:h,onClick:()=>{C(!A)}}))));return r.a.createElement(r.a.Fragment,null,R,r.a.createElement(o.a,{className:g,align:"right",verticalOffset:1,outline:!0,isOpen:A,onRequestClose:()=>{C(!1)},targetRef:j},r.a.createElement(i.a,{column:!0,className:f},r.a.createElement(l.a,{className:p,notifications:O,notificationsMarkedRead:E,locationType:v}))))}},ixXQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={HEADER_AREA:{id:"bell",types:[],showRead:!0,limit:5},TOAST_AREA:{id:"toast",types:["achievement","target_not_met","target_met","target_exceeded","streak_extended","streak_started"],showRead:!1,limit:5}}},tFdb:function(e,t,n){"use strict";n.d(t,"a",(function(){return NotificationBell}));var a=n("ODXe"),i=n("FZcb"),o=n("iicK"),c=n("TSYQ"),r=n.n(c),s=n("q1tI"),l=n.n(s),u={bell:"bell__AzBwO6vfXd1vBBNs_toEi",light:"light__2QkOxErjEG_gJjXx-P0vkr",unreadWrapper:"unreadWrapper__vRj5dfRgbpv3O9pAY9p9w",unread:"unread__CEzUq-gsL9aPdjh-k_4RR",ring:"ring__C8pkxyECPU6OcGZUFeBT4"};const NotificationBell=({as:e="button",className:t,theme:n="dark",unreadCount:c,onClick:d})=>{const m=Object(s.useState)(),f=Object(a.a)(m,2),p=f[0],_=f[1],g=Object(s.useState)(0),b=Object(a.a)(g,2),O=b[0],h=b[1];Object(s.useEffect)((()=>{_(window.document.querySelector('link[rel="shortcut icon"]'))}),[]),Object(s.useEffect)((()=>{p&&(p.href="/favicon".concat(c?"-unread":"",".ico"))}),[c,p]);const onMouseOut=()=>{h(O+1)};Object(s.useEffect)((()=>{const e=setTimeout((()=>{O>0&&h(O-1)}),2e3);return()=>clearTimeout(e)}),[O]);const E=r()(t,u.bell,u["".concat(n)],{[u.ring]:O>10});return l.a.createElement(i.a,{as:e,className:E,flat:!0,onBlur:onMouseOut,onMouseOut:onMouseOut,onClick:d,theme:"brand-dark-blue",type:"button","aria-label":"Toggle Notification Menu"},l.a.createElement(o.a,{size:20}),0!==c&&l.a.createElement("div",{id:"notification-count",className:u.unreadWrapper},l.a.createElement("p",{className:u.unread},c>99?99:c)))}}}]);
//# sourceMappingURL=70.ef367264ff62142ae075.chunk.js.map